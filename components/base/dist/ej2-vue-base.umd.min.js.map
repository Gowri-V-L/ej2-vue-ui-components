{"version":3,"file":"ej2-vue-base.umd.min.js","sources":["../src/component-decorator.js","../src/template.js","../src/component-base.js"],"sourcesContent":["/**\n * Vue Component Base\n */\nimport Vue from 'vue';\nimport { ComponentBase } from './component-base';\nexport var $internalHooks = [\n    'data',\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'mounted',\n    'beforeDestroy',\n    'destroyed',\n    'beforeUpdate',\n    'updated',\n    'activated',\n    'deactivated',\n    'render',\n    'errorCaptured' // 2.5\n];\nexport function EJComponentDecorator(options) {\n    return function (Component) {\n        return EJcomponentFactory(Component, options);\n    };\n}\nexport function EJcomponentFactory(Component, options) {\n    if (options === void 0) { options = {}; }\n    options.name = options.name || Component._componentTag || Component.name;\n    // prototype props.\n    var proto = Component.prototype;\n    if (options.props) {\n        var _loop_1 = function (prop) {\n            (options.props || (options.props = {}))[prop] = {};\n            (options.watch || (options.watch = {}))[prop] = function (newVal) {\n                this.ej2Instances[prop] = newVal;\n                if (this.dataBind) {\n                    this.dataBind();\n                }\n            };\n        };\n        for (var _i = 0, _a = options.props; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    }\n    Object.getOwnPropertyNames(proto).forEach(function (key) {\n        // hooks\n        if (key === 'constructor') {\n            return;\n        }\n        if ($internalHooks.indexOf(key) > -1) {\n            options[key] = proto[key];\n            return;\n        }\n        var descriptor = Object.getOwnPropertyDescriptor(proto, key);\n        if (typeof descriptor.value === 'function') {\n            // methods\n            (options.methods || (options.methods = {}))[key] = descriptor.value;\n        }\n        else if (descriptor.get || descriptor.set) {\n            // computed properties\n            (options.computed || (options.computed = {}))[key] = {\n                get: descriptor.get,\n                set: descriptor.set\n            };\n        }\n    });\n    Object.getOwnPropertyNames(ComponentBase.prototype).forEach(function (key) {\n        if ($internalHooks.indexOf(key) > -1) {\n            options[key] = proto[key];\n            return;\n        }\n    });\n    (options.mixins || (options.mixins = [])).push({\n        data: function () {\n            return collectDataFromConstructor(this, Component);\n        }\n    });\n    //  decorate options\n    var decorators = Component.__decorators__;\n    if (decorators) {\n        decorators.forEach(Function(options));\n        delete Component.__decorators__;\n    }\n    // find super\n    var superProto = Object.getPrototypeOf(Component.prototype);\n    var Super = superProto instanceof Vue\n        ? superProto.constructor\n        : Vue;\n    var Extended = Super.extend(options);\n    return Extended;\n}\nfunction collectDataFromConstructor(vm, Component) {\n    Component.prototype._init = function () {\n        var _this = this;\n        var keys = Object.getOwnPropertyNames(vm);\n        if (vm.$options.props) {\n            for (var key in vm.$options.props) {\n                if (!vm.hasOwnProperty(key)) {\n                    keys.push(key);\n                }\n            }\n        }\n        keys.forEach(function (key) {\n            if (key.charAt(0) !== '_') {\n                Object.defineProperty(_this, key, {\n                    get: function () { return vm[key]; },\n                    set: function (value) { return vm[key] = value; }\n                });\n            }\n        });\n    };\n    var data = new Component();\n    var plainData = {};\n    Object.keys(data).forEach(function (key) {\n        if (data[key] !== undefined) {\n            plainData[key] = data[key];\n        }\n    });\n    return plainData;\n}\n","import Vue from 'vue';\nimport { setTemplateEngine, getTemplateEngine, getUniqueID, createElement, detach, extend } from \"@syncfusion/ej2-base\";\n// tslint:disable:no-any\nvar stringCompiler = getTemplateEngine();\nexport function compile(templateElement, helper) {\n    var that = this;\n    if (typeof templateElement === 'string') {\n        return stringCompiler(templateElement, helper);\n    }\n    else {\n        return function (data, context) {\n            var pid = getUniqueID('templateParentDiv');\n            var id = getUniqueID('templateDiv');\n            var ele = createElement('div', { id: pid, innerHTML: '<div id=\"' + id + '\"></div>' });\n            document.body.appendChild(ele);\n            var tempObj = templateElement.call(that, {});\n            var returnEle;\n            if (context) {\n                var templateFunction = tempObj.template;\n                if (typeof templateFunction !== 'function') {\n                    templateFunction = Vue.extend(templateFunction);\n                }\n                var templateVue = new templateFunction({ 'data': { data: data }, parent: context.vueInstance });\n                //let templateVue: any = new Vue(tempObj.template);\n                //templateVue.$data.data = extend(tempObj.data, data);\n                templateVue.$mount('#' + id);\n                returnEle = ele.childNodes;\n                detach(ele);\n            }\n            else {\n                var templateVue = new Vue(tempObj.template);\n                templateVue.$data.data = extend(tempObj.data, data);\n                templateVue.$mount('#' + id);\n                returnEle = ele.childNodes;\n                detach(ele);\n            }\n            return returnEle || [];\n        };\n    }\n}\nsetTemplateEngine({ compile: compile });\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Vue Component Base\n */\nimport Vue from 'vue';\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nvar ComponentBase = /** @class */ (function (_super) {\n    __extends(ComponentBase, _super);\n    function ComponentBase() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.hasInjectedModules = false;\n        _this.hasChildDirective = false;\n        _this.childDirObjects = '';\n        return _this;\n    }\n    ComponentBase.prototype.created = function () {\n        var _this = this;\n        var _loop_1 = function (prop) {\n            this_1.ej2Instances.addEventListener(prop, function (args) {\n                _this.$emit(prop, args);\n            });\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.propKeys; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    };\n    ComponentBase.prototype.mounted = function () {\n        this.ej2Instances.isVue = true;\n        this.ej2Instances.vueInstance = this;\n        this.ej2Instances.appendTo(this.$el);\n    };\n    ComponentBase.prototype.getInjectedServices = function () {\n        var ret = [];\n        var provide = getValue('$vnode.context.$options.provide', this);\n        if (provide) {\n            // tslint:disable:no-any\n            var injectables = provide;\n            if (typeof provide === 'function') {\n                // tslint:disable:no-any\n                injectables = this.$vnode.context.$options.provide();\n            }\n            ret = injectables[this.ej2Instances.getModuleName()] || [];\n        }\n        return ret;\n    };\n    ComponentBase.prototype.updated = function () {\n        if (this.hasChildDirective) {\n            var childKey = {};\n            this.fetchChildPropValues(childKey);\n            var curChildDir = JSON.stringify(childKey);\n            if (this.childDirObjects !== curChildDir) {\n                this.childDirObjects = curChildDir;\n                this.assignValueToWrapper(childKey, false);\n            }\n        }\n    };\n    ComponentBase.prototype.beforeDestroy = function () {\n        var tempBeforeDestroyThis = this;\n        tempBeforeDestroyThis.ej2Instances.destroy();\n        tempBeforeDestroyThis.$el.style.visibility = 'hidden';\n        tempBeforeDestroyThis = null;\n    };\n    ComponentBase.prototype.bindProperties = function () {\n        var options = {};\n        for (var _i = 0, _a = this.propKeys; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            if (!isNullOrUndefined(this[prop])) {\n                options[prop] = this[prop];\n            }\n        }\n        if (this.hasChildDirective) {\n            this.fetchChildPropValues(options);\n        }\n        if (this.hasInjectedModules) {\n            var prevModule = this.getInjectedServices() || [];\n            var curModule = this.ej2Instances.getInjectedModules() || [];\n            for (var _b = 0, curModule_1 = curModule; _b < curModule_1.length; _b++) {\n                var mod = curModule_1[_b];\n                if (prevModule.indexOf(mod) === -1) {\n                    prevModule.push(mod);\n                }\n            }\n            this.ej2Instances.injectedModules = prevModule;\n        }\n        this.assignValueToWrapper(options);\n    };\n    ComponentBase.prototype.assignValueToWrapper = function (option, silent) {\n        this.ej2Instances.setProperties(extend({}, {}, option, true), isNullOrUndefined(silent) ? true : silent);\n    };\n    ComponentBase.prototype.fetchChildPropValues = function (childOption) {\n        var dirProps = this.getDirectiveValues(this.$slots.default, this.tagMapper || {}, this.tagNameMapper || {});\n        if (!this.childDirObjects) {\n            this.childDirObjects = JSON.stringify(dirProps);\n        }\n        for (var _i = 0, _a = Object.keys(dirProps); _i < _a.length; _i++) {\n            var dirProp = _a[_i];\n            childOption[dirProp] = dirProps[dirProp];\n        }\n    };\n    ComponentBase.prototype.getDirectiveValues = function (tagDirectives, tagMapper, tagNameMapper) {\n        var keyTags = Object.keys(tagMapper);\n        var dir = {};\n        if (tagDirectives) {\n            for (var _i = 0, tagDirectives_1 = tagDirectives; _i < tagDirectives_1.length; _i++) {\n                var tagDirective = tagDirectives_1[_i];\n                if (tagDirective.componentOptions && tagDirective.componentOptions.children && tagDirective.componentOptions.tag) {\n                    var dirTag = tagDirective.componentOptions.tag;\n                    if (keyTags.indexOf(dirTag) !== -1) {\n                        var tagName = tagNameMapper[dirTag] ? tagNameMapper[dirTag] : dirTag;\n                        dir[tagName.replace('e-', '')] = [];\n                        for (var _a = 0, _b = tagDirective.componentOptions.children; _a < _b.length; _a++) {\n                            var tagDirChild = _b[_a];\n                            var retObj = this.getVNodeValue(tagDirChild, tagMapper[dirTag], tagNameMapper);\n                            if (Object.keys(retObj).length !== 0) {\n                                dir[tagName.replace('e-', '')].push(retObj);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return dir;\n    };\n    ComponentBase.prototype.getMultiLevelDirValue = function (tagDirectories, tagKey, tagNameMapper) {\n        var mulObj = {};\n        for (var _i = 0, tagDirectories_1 = tagDirectories; _i < tagDirectories_1.length; _i++) {\n            var tagDir = tagDirectories_1[_i];\n            if (tagDir.componentOptions) {\n                var key = tagDir.componentOptions.tag;\n                var tagName = tagNameMapper[key] ? tagNameMapper[key] : key;\n                mulObj[tagName.replace('e-', '')] = [];\n                if (tagDir.componentOptions && tagDir.componentOptions.children) {\n                    for (var _a = 0, _b = tagDir.componentOptions.children; _a < _b.length; _a++) {\n                        var tagDirChild = _b[_a];\n                        var mulLevObj = this.getVNodeValue(tagDirChild, tagKey[key], tagNameMapper);\n                        if (Object.keys(mulLevObj).length !== 0) {\n                            mulObj[tagName.replace('e-', '')].push(mulLevObj);\n                        }\n                    }\n                }\n            }\n        }\n        return mulObj;\n    };\n    ComponentBase.prototype.getVNodeValue = function (tagDirective, tagKey, tagNameMapper) {\n        var ret = {};\n        if (tagDirective.componentOptions) {\n            var dirTag = tagDirective.componentOptions.tag;\n            if (typeof tagKey === 'string' && dirTag === tagKey && tagDirective.data) {\n                ret = tagDirective.data.attrs ? this.getCamelCaseProps(tagDirective.data.attrs) : this.getCamelCaseProps(tagDirective.data);\n            }\n            else if (typeof tagKey === 'object') {\n                if (tagDirective.componentOptions.children && (Object.keys(tagKey).indexOf(dirTag) !== -1)) {\n                    ret = this.getMultiLevelDirValue(tagDirective.componentOptions.children, tagKey[dirTag], tagNameMapper);\n                }\n                if (tagDirective.data && tagDirective.data.attrs) {\n                    ret = extend(ret, this.getCamelCaseProps(tagDirective.data.attrs));\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * convert kebab case directive props to camel case\n     */\n    ComponentBase.prototype.getCamelCaseProps = function (props) {\n        var retProps = {};\n        for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            retProps[prop.replace(/-[a-z]/g, function (e) { return e[1].toUpperCase(); })] = props[prop];\n        }\n        return retProps;\n    };\n    ComponentBase.prototype.dataBind = function () {\n        this.ej2Instances.dataBind();\n    };\n    ComponentBase.prototype.setProperties = function (arg, muteOnChange) {\n        return this.ej2Instances.setProperties(arg, muteOnChange);\n    };\n    return ComponentBase;\n}(Vue));\nexport { ComponentBase };\n"],"names":["EJcomponentFactory","Component","options","name","_componentTag","proto","prototype","props","_loop_1","prop","watch","newVal","this","ej2Instances","dataBind","_i","_a","length","Object","getOwnPropertyNames","forEach","key","$internalHooks","indexOf","descriptor","getOwnPropertyDescriptor","value","methods","get","set","computed","ComponentBase","mixins","push","data","vm","_init","_this","keys","$options","hasOwnProperty","charAt","defineProperty","plainData","undefined","collectDataFromConstructor","decorators","__decorators__","Function","superProto","getPrototypeOf","Vue","constructor","extend","compile","templateElement","helper","that","stringCompiler","context","pid","getUniqueID","id","ele","createElement","innerHTML","document","body","appendChild","returnEle","tempObj","call","templateFunction","template","templateVue","parent","vueInstance","$mount","childNodes","detach","$data","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","__","create","_super","apply","arguments","hasInjectedModules","hasChildDirective","childDirObjects","created","this_1","addEventListener","args","$emit","propKeys","mounted","isVue","appendTo","$el","getInjectedServices","ret","provide","getValue","injectables","$vnode","getModuleName","updated","childKey","fetchChildPropValues","curChildDir","JSON","stringify","assignValueToWrapper","beforeDestroy","tempBeforeDestroyThis","destroy","style","visibility","bindProperties","isNullOrUndefined","prevModule","_b","curModule_1","getInjectedModules","mod","injectedModules","option","silent","setProperties","childOption","dirProps","getDirectiveValues","$slots","default","tagMapper","tagNameMapper","dirProp","tagDirectives","keyTags","dir","tagDirectives_1","tagDirective","componentOptions","children","tag","dirTag","tagName","replace","tagDirChild","retObj","getVNodeValue","getMultiLevelDirValue","tagDirectories","tagKey","mulObj","tagDirectories_1","tagDir","mulLevObj","attrs","getCamelCaseProps","retProps","e","toUpperCase","arg","muteOnChange","getTemplateEngine","setTemplateEngine"],"mappings":"qRAyBA,SAAgBA,EAAmBC,EAAWC,QAC1B,IAAZA,IAAsBA,MAC1BA,EAAQC,KAAOD,EAAQC,MAAQF,EAAUG,eAAiBH,EAAUE,KAEpE,IAAIE,EAAQJ,EAAUK,UACtB,GAAIJ,EAAQK,MAUR,IAAK,IATDC,EAAU,SAAUC,IACnBP,EAAQK,QAAUL,EAAQK,WAAaE,OACvCP,EAAQQ,QAAUR,EAAQQ,WAAaD,GAAQ,SAAUE,GACtDC,KAAKC,aAAaJ,GAAQE,EACtBC,KAAKE,UACLF,KAAKE,aAIRC,EAAK,EAAGC,EAAKd,EAAQK,MAAOQ,EAAKC,EAAGC,OAAQF,IAAM,CAEvDP,EADWQ,EAAGD,IAItBG,OAAOC,oBAAoBd,GAAOe,QAAQ,SAAUC,GAEhD,GAAY,gBAARA,EAGJ,GAAIC,EAAeC,QAAQF,IAAQ,EAC/BnB,EAAQmB,GAAOhB,EAAMgB,OADzB,CAIA,IAAIG,EAAaN,OAAOO,yBAAyBpB,EAAOgB,GACxB,mBAArBG,EAAWE,OAEjBxB,EAAQyB,UAAYzB,EAAQyB,aAAeN,GAAOG,EAAWE,OAEzDF,EAAWI,KAAOJ,EAAWK,QAEjC3B,EAAQ4B,WAAa5B,EAAQ4B,cAAgBT,IAC1CO,IAAKJ,EAAWI,IAChBC,IAAKL,EAAWK,SAI5BX,OAAOC,oBAAoBY,EAAczB,WAAWc,QAAQ,SAAUC,GAC9DC,EAAeC,QAAQF,IAAQ,IAC/BnB,EAAQmB,GAAOhB,EAAMgB,OAI5BnB,EAAQ8B,SAAW9B,EAAQ8B,YAAcC,MACtCC,KAAM,WACF,OAiBZ,SAAoCC,EAAIlC,GACpCA,EAAUK,UAAU8B,MAAQ,WACxB,IAAIC,EAAQzB,KACR0B,EAAOpB,OAAOC,oBAAoBgB,GACtC,GAAIA,EAAGI,SAAShC,MACZ,IAAK,IAAIc,KAAOc,EAAGI,SAAShC,MACnB4B,EAAGK,eAAenB,IACnBiB,EAAKL,KAAKZ,GAItBiB,EAAKlB,QAAQ,SAAUC,GACG,MAAlBA,EAAIoB,OAAO,IACXvB,OAAOwB,eAAeL,EAAOhB,GACzBO,IAAK,WAAc,OAAOO,EAAGd,IAC7BQ,IAAK,SAAUH,GAAS,OAAOS,EAAGd,GAAOK,QAKzD,IAAIQ,EAAO,IAAIjC,EACX0C,KAMJ,OALAzB,OAAOoB,KAAKJ,GAAMd,QAAQ,SAAUC,QACduB,IAAdV,EAAKb,KACLsB,EAAUtB,GAAOa,EAAKb,MAGvBsB,EA5CQE,CAA2BjC,KAAMX,MAIhD,IAAI6C,EAAa7C,EAAU8C,eACvBD,IACAA,EAAW1B,QAAQ4B,SAAS9C,WACrBD,EAAU8C,gBAGrB,IAAIE,EAAa/B,OAAOgC,eAAejD,EAAUK,WAKjD,OAJY2C,aAAsBE,EAC5BF,EAAWG,YACXD,GACeE,OAAOnD,GCrFhC,SAAgBoD,EAAQC,EAAiBC,GACrC,IAAIC,EAAO7C,KACX,MAA+B,iBAApB2C,EACAG,EAAeH,EAAiBC,GAGhC,SAAUtB,EAAMyB,GACnB,IAAIC,EAAMC,cAAY,qBAClBC,EAAKD,cAAY,eACjBE,EAAMC,gBAAc,OAASF,GAAIF,EAAKK,UAAW,YAAcH,EAAK,aACxEI,SAASC,KAAKC,YAAYL,GAC1B,IACIM,EADAC,EAAUf,EAAgBgB,KAAKd,MAEnC,GAAIE,EAAS,CACT,IAAIa,EAAmBF,EAAQG,SACC,mBAArBD,IACPA,EAAmBrB,EAAIE,OAAOmB,KAE9BE,EAAc,IAAIF,GAAmBtC,MAAUA,KAAMA,GAAQyC,OAAQhB,EAAQiB,eAGrEC,OAAO,IAAMf,GACzBO,EAAYN,EAAIe,WAChBC,SAAOhB,OAEN,CACD,IAAIW,GAAAA,EAAc,IAAIvB,EAAImB,EAAQG,WACtBO,MAAM9C,KAAOmB,SAAOiB,EAAQpC,KAAMA,GAC9CwC,EAAYG,OAAO,IAAMf,GACzBO,EAAYN,EAAIe,WAChBC,SAAOhB,GAEX,OAAOM,oDCpCnB,IAAIY,EAAwC,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBhE,OAAOmE,iBAChBC,wBAA2BC,OAAS,SAAUJ,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAE5C,eAAegD,KAAIL,EAAEK,GAAKJ,EAAEI,MACpDL,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAO7E,KAAKwC,YAAc+B,EADnCD,EAAcC,EAAGC,GAEjBD,EAAE7E,UAAkB,OAAN8E,EAAalE,OAAOwE,OAAON,IAAMK,EAAGnF,UAAY8E,EAAE9E,UAAW,IAAImF,IAV3C,GAkBxC1D,EAA+B,SAAU4D,GAEzC,SAAS5D,IACL,IAAIM,EAAmB,OAAXsD,GAAmBA,EAAOC,MAAMhF,KAAMiF,YAAcjF,KAIhE,OAHAyB,EAAMyD,oBAAqB,EAC3BzD,EAAM0D,mBAAoB,EAC1B1D,EAAM2D,gBAAkB,GACjB3D,EAwKX,OA9KA4C,EAAUlD,EAAe4D,GAQzB5D,EAAczB,UAAU2F,QAAU,WAQ9B,IAAK,IAPD5D,EAAQzB,KACRJ,EAAU,SAAUC,GACpByF,EAAOrF,aAAasF,iBAAiB1F,EAAM,SAAU2F,GACjD/D,EAAMgE,MAAM5F,EAAM2F,MAGtBF,EAAStF,KACJG,EAAK,EAAGC,EAAKJ,KAAK0F,SAAUvF,EAAKC,EAAGC,OAAQF,IAAM,CAEvDP,EADWQ,EAAGD,MAItBgB,EAAczB,UAAUiG,QAAU,WAC9B3F,KAAKC,aAAa2F,OAAQ,EAC1B5F,KAAKC,aAAa+D,YAAchE,KAChCA,KAAKC,aAAa4F,SAAS7F,KAAK8F,MAEpC3E,EAAczB,UAAUqG,oBAAsB,WAC1C,IAAIC,KACAC,EAAUC,WAAS,kCAAmClG,MAC1D,GAAIiG,EAAS,CAET,IAAIE,EAAcF,EACK,mBAAZA,IAEPE,EAAcnG,KAAKoG,OAAOrD,QAAQpB,SAASsE,WAE/CD,EAAMG,EAAYnG,KAAKC,aAAaoG,qBAExC,OAAOL,GAEX7E,EAAczB,UAAU4G,QAAU,WAC9B,GAAItG,KAAKmF,kBAAmB,CACxB,IAAIoB,KACJvG,KAAKwG,qBAAqBD,GAC1B,IAAIE,EAAcC,KAAKC,UAAUJ,GAC7BvG,KAAKoF,kBAAoBqB,IACzBzG,KAAKoF,gBAAkBqB,EACvBzG,KAAK4G,qBAAqBL,GAAU,MAIhDpF,EAAczB,UAAUmH,cAAgB,WACpC,IAAIC,EAAwB9G,KAC5B8G,EAAsB7G,aAAa8G,UACnCD,EAAsBhB,IAAIkB,MAAMC,WAAa,SAC7CH,EAAwB,MAE5B3F,EAAczB,UAAUwH,eAAiB,WAErC,IAAK,IADD5H,KACKa,EAAK,EAAGC,EAAKJ,KAAK0F,SAAUvF,EAAKC,EAAGC,OAAQF,IAAM,CACvD,IAAIN,EAAOO,EAAGD,GACTgH,oBAAkBnH,KAAKH,MACxBP,EAAQO,GAAQG,KAAKH,IAM7B,GAHIG,KAAKmF,mBACLnF,KAAKwG,qBAAqBlH,GAE1BU,KAAKkF,mBAAoB,CAGzB,IAAK,IAFDkC,EAAapH,KAAK+F,0BAEbsB,EAAK,EAAGC,EADDtH,KAAKC,aAAasH,yBACQF,EAAKC,EAAYjH,OAAQgH,IAAM,CACrE,IAAIG,EAAMF,EAAYD,IACW,IAA7BD,EAAWzG,QAAQ6G,IACnBJ,EAAW/F,KAAKmG,GAGxBxH,KAAKC,aAAawH,gBAAkBL,EAExCpH,KAAK4G,qBAAqBtH,IAE9B6B,EAAczB,UAAUkH,qBAAuB,SAAUc,EAAQC,GAC7D3H,KAAKC,aAAa2H,cAAcnF,eAAeiF,GAAQ,KAAOP,oBAAkBQ,IAAiBA,IAErGxG,EAAczB,UAAU8G,qBAAuB,SAAUqB,GACrD,IAAIC,EAAW9H,KAAK+H,mBAAmB/H,KAAKgI,OAAOC,QAASjI,KAAKkI,cAAiBlI,KAAKmI,mBAClFnI,KAAKoF,kBACNpF,KAAKoF,gBAAkBsB,KAAKC,UAAUmB,IAE1C,IAAK,IAAI3H,EAAK,EAAGC,EAAKE,OAAOoB,KAAKoG,GAAW3H,EAAKC,EAAGC,OAAQF,IAAM,CAC/D,IAAIiI,EAAUhI,EAAGD,GACjB0H,EAAYO,GAAWN,EAASM,KAGxCjH,EAAczB,UAAUqI,mBAAqB,SAAUM,EAAeH,EAAWC,GAC7E,IAAIG,EAAUhI,OAAOoB,KAAKwG,GACtBK,KACJ,GAAIF,EACA,IAAK,IAAIlI,EAAK,EAAGqI,EAAkBH,EAAelI,EAAKqI,EAAgBnI,OAAQF,IAAM,CACjF,IAAIsI,EAAeD,EAAgBrI,GACnC,GAAIsI,EAAaC,kBAAoBD,EAAaC,iBAAiBC,UAAYF,EAAaC,iBAAiBE,IAAK,CAC9G,IAAIC,EAASJ,EAAaC,iBAAiBE,IAC3C,IAAiC,IAA7BN,EAAQ3H,QAAQkI,GAAgB,CAChC,IAAIC,EAAUX,EAAcU,GAAUV,EAAcU,GAAUA,EAC9DN,EAAIO,EAAQC,QAAQ,KAAM,QAC1B,IAAK,IAAI3I,EAAK,EAAGiH,EAAKoB,EAAaC,iBAAiBC,SAAUvI,EAAKiH,EAAGhH,OAAQD,IAAM,CAChF,IAAI4I,EAAc3B,EAAGjH,GACjB6I,EAASjJ,KAAKkJ,cAAcF,EAAad,EAAUW,GAASV,GAC7B,IAA/B7H,OAAOoB,KAAKuH,GAAQ5I,QACpBkI,EAAIO,EAAQC,QAAQ,KAAM,KAAK1H,KAAK4H,MAO5D,OAAOV,GAEXpH,EAAczB,UAAUyJ,sBAAwB,SAAUC,EAAgBC,EAAQlB,GAE9E,IAAK,IADDmB,KACKnJ,EAAK,EAAGoJ,EAAmBH,EAAgBjJ,EAAKoJ,EAAiBlJ,OAAQF,IAAM,CACpF,IAAIqJ,EAASD,EAAiBpJ,GAC9B,GAAIqJ,EAAOd,iBAAkB,CACzB,IAAIjI,EAAM+I,EAAOd,iBAAiBE,IAC9BE,EAAUX,EAAc1H,GAAO0H,EAAc1H,GAAOA,EAExD,GADA6I,EAAOR,EAAQC,QAAQ,KAAM,QACzBS,EAAOd,kBAAoBc,EAAOd,iBAAiBC,SACnD,IAAK,IAAIvI,EAAK,EAAGiH,EAAKmC,EAAOd,iBAAiBC,SAAUvI,EAAKiH,EAAGhH,OAAQD,IAAM,CAC1E,IAAI4I,EAAc3B,EAAGjH,GACjBqJ,EAAYzJ,KAAKkJ,cAAcF,EAAaK,EAAO5I,GAAM0H,GACvB,IAAlC7H,OAAOoB,KAAK+H,GAAWpJ,QACvBiJ,EAAOR,EAAQC,QAAQ,KAAM,KAAK1H,KAAKoI,KAM3D,OAAOH,GAEXnI,EAAczB,UAAUwJ,cAAgB,SAAUT,EAAcY,EAAQlB,GACpE,IAAInC,KACJ,GAAIyC,EAAaC,iBAAkB,CAC/B,IAAIG,EAASJ,EAAaC,iBAAiBE,IACrB,iBAAXS,GAAuBR,IAAWQ,GAAUZ,EAAanH,KAChE0E,EAAMyC,EAAanH,KAAKoI,MAAQ1J,KAAK2J,kBAAkBlB,EAAanH,KAAKoI,OAAS1J,KAAK2J,kBAAkBlB,EAAanH,MAE/F,iBAAX+H,IACRZ,EAAaC,iBAAiBC,WAAsD,IAAzCrI,OAAOoB,KAAK2H,GAAQ1I,QAAQkI,KACvE7C,EAAMhG,KAAKmJ,sBAAsBV,EAAaC,iBAAiBC,SAAUU,EAAOR,GAASV,IAEzFM,EAAanH,MAAQmH,EAAanH,KAAKoI,QACvC1D,EAAMvD,SAAOuD,EAAKhG,KAAK2J,kBAAkBlB,EAAanH,KAAKoI,UAIvE,OAAO1D,GAKX7E,EAAczB,UAAUiK,kBAAoB,SAAUhK,GAElD,IAAK,IADDiK,KACKzJ,EAAK,EAAGC,EAAKE,OAAOoB,KAAK/B,GAAQQ,EAAKC,EAAGC,OAAQF,IAAM,CAC5D,IAAIN,EAAOO,EAAGD,GACdyJ,EAAS/J,EAAKkJ,QAAQ,UAAW,SAAUc,GAAK,OAAOA,EAAE,GAAGC,iBAAqBnK,EAAME,GAE3F,OAAO+J,GAEXzI,EAAczB,UAAUQ,SAAW,WAC/BF,KAAKC,aAAaC,YAEtBiB,EAAczB,UAAUkI,cAAgB,SAAUmC,EAAKC,GACnD,OAAOhK,KAAKC,aAAa2H,cAAcmC,EAAKC,IAEzC7I,GACToB,GF7LS7B,GACP,OACA,eACA,UACA,cACA,UACA,gBACA,YACA,eACA,UACA,YACA,cACA,SACA,iBCfAoC,EAAiBmH,sBAqCrBC,qBAAoBxH,QAASA,gEDpB7B,SAAqCpD,GACjC,OAAO,SAAUD,GACb,OAAOD,EAAmBC,EAAWC"}